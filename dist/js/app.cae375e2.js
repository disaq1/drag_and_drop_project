(function(){"use strict";var e={3478:function(e,o,r){var t=r(9242),n=r(3396);function l(e,o,r,t,l,u){const a=(0,n.up)("PhotoUploader");return(0,n.wg)(),(0,n.iD)("section",null,[(0,n.Wm)(a,{modelValue:t.files,"onUpdate:modelValue":o[0]||(o[0]=e=>t.files=e)},null,8,["modelValue"])])}var u=r(4870),a=r(7139);const i={class:"photo-uploader"},p=(0,n._)("div",{class:"photo-uploader__progressBar"},null,-1),c={class:"photo-uploader__photos"},d=["onClick"],s={key:0},f=["src","alt"],v={key:1},g=["src"];function _(e,o,r,t,l,u){return(0,n.wg)(),(0,n.iD)("section",i,[p,(0,n._)("div",{class:(0,a.C_)([{"photo-uploader__wrapper--drag":t.isDragStarted},"photo-uploader__wrapper"])},[(0,n._)("input",{onChange:o[0]||(o[0]=(...e)=>t.uploadFile&&t.uploadFile(...e)),onDragenter:o[1]||(o[1]=e=>t.isDragStarted=!0),onDragleave:o[2]||(o[2]=e=>t.isDragStarted=!1),ref:"input",type:"file",title:"",multiple:"",class:"photo-uploader__input"},null,544),(0,n.Uk)(" "+(0,a.zw)(t.uploadText),1)],2),(0,n._)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.modelValue,((e,o)=>((0,n.wg)(),(0,n.iD)("div",{key:o,class:"photo-uploader__photo"},[(0,n._)("button",{onClick:e=>t.onRemove(o),class:"photo-uploader__remove"},null,8,d),"video/mp4"!==e.type&&"video/quicktime"!==e.type?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("img",{src:t.getUrl(e),alt:`File № ${o+1}`},null,8,f)])):(0,n.kq)("",!0),(e.type,(0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("video",{src:t.getUrl(e),autoplay:"",muted:""},null,8,g)]))])))),128))])])}var h={props:{modelValue:{type:Array,require:!0}},setup(e,{emit:o}){const{modelValue:r}=(0,u.BK)(e),t=(0,u.iH)(null),l=(0,u.iH)(!1),a=({currentTarget:e})=>{e.files&&(o("update:modelValue",[...r.value,...Array.from(e.files)]),console.log(r.value)),t.value&&(t.value.value=""),l.value=!1},i=e=>{o("update:modelValue",r.value.filter(((o,r)=>r!==e)))},p=(0,n.Fl)((()=>d.value>0?`Загрузите ещё ${d.value} ${1===d.value?"ваш файл":"ваших файла"}`:0===d.value?"Вы загрузили все файлы":"Вы загрузили слишком много файлов")),c=e=>URL.createObjectURL(e),d=(0,n.Fl)((()=>4-r.value.length));return{isDragStarted:l,input:t,uploadFile:a,onRemove:i,needToUpload:d,uploadText:p,getUrl:c}}},m=r(89);const y=(0,m.Z)(h,[["render",_]]);var w=y,b={name:"App",components:{PhotoUploader:w},setup(){const e=(0,u.iH)([]);return{files:e}}};const k=(0,m.Z)(b,[["render",l]]);var D=k;(0,t.ri)(D).mount("#app")}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var l=o[t]={exports:{}};return e[t](l,l.exports,r),l.exports}r.m=e,function(){var e=[];r.O=function(o,t,n,l){if(!t){var u=1/0;for(c=0;c<e.length;c++){t=e[c][0],n=e[c][1],l=e[c][2];for(var a=!0,i=0;i<t.length;i++)(!1&l||u>=l)&&Object.keys(r.O).every((function(e){return r.O[e](t[i])}))?t.splice(i--,1):(a=!1,l<u&&(u=l));if(a){e.splice(c--,1);var p=n();void 0!==p&&(o=p)}}return o}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[t,n,l]}}(),function(){r.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(o,{a:o}),o}}(),function(){r.d=function(e,o){for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={143:0};r.O.j=function(o){return 0===e[o]};var o=function(o,t){var n,l,u=t[0],a=t[1],i=t[2],p=0;if(u.some((function(o){return 0!==e[o]}))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(i)var c=i(r)}for(o&&o(t);p<u.length;p++)l=u[p],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},t=self["webpackChunkdrag_and_drop_project"]=self["webpackChunkdrag_and_drop_project"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(3478)}));t=r.O(t)})();
//# sourceMappingURL=app.cae375e2.js.map